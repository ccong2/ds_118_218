{
  "hash": "8a2298576e38c61a17b9add7a7bdecc4",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Visualization with ![](../img/Rlogo.png){width=60px}\"\nsubtitle: <span style=\"color:#2C3E50\">11.118/11.218 Applied Data Science for Cities</span>\ndate: \"Last Updated 2025-08-08\"\nformat: html\neditor: visual\nexecute: \n  warning: false\n---\n\n\n# Airbnb Data\n\n[Inside Airbnb](http://insideairbnb.com/) provides a freely available dataset that lets you explore Airbnb listings and related metrics for cities worldwide.\n\nOn [this data downloading page](http://insideairbnb.com/get-the-data/), search for the City of Chicago. You’ll see a list of files with descriptions. Take a moment to review them. The first file, `listings.csv.gz` is \"Detailed Listings data\". It contains raw information scraped directly from Airbnb’s website. Our task today is to extract meaningful insights from this dataset.\n\nIn the lecture, we briefly explored this data and you noted down some questions you want to investigate. Now, we’ll clean the data, create visualizations, and work toward answering those questions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(plotly)\nlibrary(gt)\n```\n:::\n\n\nThe .gz file is only a compressed file format. `read_csv()` automatically detects `.gz` and decompresses it on the fly.\n\n\n\n```{.default}\nairbnb <- read_csv(\"listings.csv.gz\")\n```\n\n\n\n\nTake a look through the 79 variables included in the dataset along with the [data dictionary](https://docs.google.com/spreadsheets/d/1iWCNJcSutYqpULSQHlNyGInUvHg2BoUGoNRIGa6Szc4/edit?usp=sharing). Try to understand what each one means and what it tells you about a property.\n\nStart a new Quarto file and begin by listing out three questions you’re curious about. These can be things like:\n\n-   How does the price of an Airbnb listing vary by type of housing?\n-   Are there patterns in availability across neighborhoods?\n-   How do different types of hosts set their minimum stay requirements?\n\nI'll walk through a few examples to introduce some new packages and demonstrate how to work with different types of variables\n\n# Working with text data using `stringr`\n\nWe can come across with unstructured text input in our work. Examples include extracting all email addresses from text, counting how often a keyword appears, or cleaning up messy formatting (e.g., removing symbols like \\$ or \\*). These tasks involve string (i.e. characters) manipulation, and in R, we commonly use `stringr`, which is also part of `tidyverse`.\n\nTyping `str_` will trigger autocomplete, allowing you to see all available functions in this package. For example:\n\n`str_c()` combine multiple strings.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This combine street, city, state into full address\nstr_c(\"77 \", \"Massachusetts \", \"Ave\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"77 Massachusetts Ave\"\n```\n\n\n:::\n:::\n\n\n`str_split()` splits strings by a separator, which could be a space, a comma, etc.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This separates first and last name into two parts\nstr_split(string = \"Hadley Wickham\", pattern = \" \")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n[1] \"Hadley\"  \"Wickham\"\n```\n\n\n:::\n:::\n\n\n`str_pad()` add padding characters to strings (either left or right)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This adds leading zeros to ZIP codes\nstr_pad(\"2140\", pad = \"0\", side = \"left\", width = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"02140\"\n```\n\n\n:::\n:::\n\n\nHere we are going to use string modification to clean the `price` column in `airbnb`. If you look at the data (e.g., with `glimpse(airbnb)`), you’ll see that the prices are stored as **characters, not numbers**. Converting functions like `as.numeric()` won’t work directly here because the prices include a dollar sign (\\$) and commas, like this: \"\\$1,200,000\". We first need to modify the strings to remove the dollar signs and commas, before we can convert them to numeric prices and calculate them.\n\nIn a more general sense, we will replace those symbols with an empty string (\"\"), effectively removing them.\n\n`str_replace` replaces by pattern.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr_replace(string = \"$1,200\", pattern = \",\", replacement = \"\") \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"$1200\"\n```\n\n\n:::\n:::\n\n\nOr if use str_replace_all, it can detect and remove multiple symbols simutaneously, by wrapping them in brackets\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr_replace_all(string = \"$1,200.00\", pattern =  \"[$,]\", replacement = \"\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"1200.00\"\n```\n\n\n:::\n:::\n\n\nHere we make a small dataset that only include property id, room types and price:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_price <- airbnb |> \n  select(id, room_type, price) |> \n  mutate(price = str_replace_all(string = price, \n                                 pattern = \"[$,]\", \n                                 replacement = \"\")) |> \n  mutate(price = as.numeric(price))\n```\n:::\n\n\nThen we can create a bar chart that displays the median price for each type of property.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_price |> \n  filter(price < 10000) |> \n  group_by(room_type) |> \n  summarise(median_price = median(price, na.rm = TRUE)) |> \n  ggplot() + \n    geom_col(aes(x = room_type, y = median_price), \n             fill = \"#62A0CA\", width = 0.5) + \n  theme_bw()+\n  labs(x = \"Room Type\", y = \"Median Price\")\n```\n\n::: {.cell-output-display}\n![](lab3_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n# Interactive graphs with `plotly`\n\n`plotly` is much larger than just the R universe, with implementations in Python, Julia, Javascript, and others. However, its interface with `ggplot2` is practically easy to use! All we need to do is to use the `ggplotly()` function to convert a ggplot object into an interactive plotly plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- df_price |> \n  filter(price < 10000) |> \n  group_by(room_type) |> \n  summarise(median_price = median(price, na.rm = TRUE)) |> \n  ggplot() + \n    geom_col(aes(x = room_type, y = median_price), \n             fill = \"#62A0CA\", width = 0.5) + \n  theme_bw()+\n  labs(x = \"Room Type\", y = \"Median Price\")\n\n\nggplotly(g)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-e17cdacb8b05c677c524\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e17cdacb8b05c677c524\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.5,0.5,0.5,0.5],\"base\":[0,0,0,0],\"x\":[1,2,3,4],\"y\":[203,329.5,64,52],\"text\":[\"room_type: Entire home/apt<br />median_price: 203.0\",\"room_type: Hotel room<br />median_price: 329.5\",\"room_type: Private room<br />median_price:  64.0\",\"room_type: Shared room<br />median_price:  52.0\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(98,160,202,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.228310502283104,\"r\":7.3059360730593621,\"b\":40.182648401826491,\"l\":43.105022831050235},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,4.5999999999999996],\"tickmode\":\"array\",\"ticktext\":[\"Entire home/apt\",\"Hotel room\",\"Private room\",\"Shared room\"],\"tickvals\":[1,2,3,4],\"categoryorder\":\"array\",\"categoryarray\":[\"Entire home/apt\",\"Hotel room\",\"Private room\",\"Shared room\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Room Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-16.475000000000001,345.97500000000002],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"100\",\"200\",\"300\"],\"tickvals\":[0,100,200,300],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"100\",\"200\",\"300\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Median Price\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(51,51,51,1)\",\"width\":0.66417600664176002,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"4ca0374f3ca4\":{\"x\":{},\"y\":{},\"type\":\"bar\"}},\"cur_data\":\"4ca0374f3ca4\",\"visdat\":{\"4ca0374f3ca4\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n# Working with dates using `lubridate`\n\nSometimes, you'll need to work with dates in your analysis. Date can come with different format, like \"Sep 21, 2025\", \"09/21/2025\", or \"2025-09-21\", etc. One noteworthy `lubridate` function is to standardize it, and you can even extract the componets for\n\n`ymd` (and its siblings `mdy` , `dmy`, and `ymd_hms`...). It's a convenient function that converts strings into proper date objects. To use it, identify the order in which year, month, and day appear in your dates, then arrange \"y\", \"m\", and \"d\" in the same order.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_age <- airbnb |> \n  select(id, host_since) |> \n  mutate(host_since = ymd(host_since)) |> \n  mutate(host_since_year = year(host_since)) \n```\n:::\n\n\nThe above code shows that we can create another smaller dataset that includes the listing ID and the date the property was first listed (host_since). We then convert the character format of the date into a proper date using `ymd()`, and finally extract the year from it for further analysis. So that you can see how many properties started in each year.\n\nWe can visualize this result using a [`plotly` treemap](https://plotly.com/r/treemaps/). A treemap shows proportions using nested rectangles, and it's great for quickly comparing categories.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_age |> \n  count(host_since_year) |> \n  plot_ly(\n    type = \"treemap\",\n    labels = ~host_since_year,\n    parents = \"\",  # No hierarchy, just one level\n    values = ~n\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-28c618f95d3001926b05\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-28c618f95d3001926b05\">{\"x\":{\"visdat\":{\"4ca02ed4452\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"4ca02ed4452\",\"attrs\":{\"4ca02ed4452\":{\"labels\":{},\"parents\":\"\",\"values\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"treemap\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"labels\":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,null],\"parents\":[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],\"values\":[1,17,50,180,311,376,535,812,1536,656,672,559,337,574,667,684,457,175,5],\"type\":\"treemap\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(255,255,255,1)\"}},\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nPlotly uses its own plotting grammar, but it shares a lot of similarities with ggplot2. For example, you still map variables to aesthetics like `labels`, `values`, and hierarchy levels, and the structure of the plot is layered.\n\nI’d perfer to use `ggplotly` to convert almost any ggplot graphs to save me from having to remember a new set of functions. But for your interest in digging deeper into `plotly`, check out [`plotly` R graph library](https://plotly.com/r/) and its [`ggplot2` integration examples](https://plotly.com/ggplot2/).\n\n# Create Nicer Tables Using `gt`\n\nNow suppose you're planning a trip to Chicago and want to stay in the \"Logan Square\" neighborhood. I decide to dig into the Airbnb dataset to find hosts who have both good ratings and are actively getting reviews.\n\nIn the following code, I start by consulting the data dictionary to identify relevant variables. Then I calculate how many reviews each host has received in the last 30 days, as well as their average ratings.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_review <- airbnb |> \n  select(id, host_id, host_name, neighbourhood_cleansed,\n         number_of_reviews_l30d, review_scores_rating) \n\ntop_reviewed_hosts <- df_review |> \n  filter(neighbourhood_cleansed == \"Logan Square\") |> \n  group_by(host_id, host_name, review_scores_rating) |> \n  summarise(n = sum(number_of_reviews_l30d),.groups = \"drop\") |> \n  arrange(desc(n)) |> \n  head(10)\n\n\ntop_reviewed_hosts\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 4\n     host_id host_name  review_scores_rating     n\n       <dbl> <chr>                     <dbl> <dbl>\n 1  24129606 Leo & Alex                 4.84    14\n 2 526970195 Jevaux                     4.89    14\n 3 245386525 Hanna                      5       10\n 4  74207440 Daniel                     4.75     8\n 5 245386525 Hanna                      4.92     8\n 6   3069675 Gabrielle                  4.98     7\n 7  17160709 Cindy                      4.91     7\n 8  37420568 Zoë                        4.9      7\n 9 211206098 Ramon                      4.91     7\n10 349642200 Lourdes                    4.97     7\n```\n\n\n:::\n:::\n\n\n`gt` can create more presentable, and customizable tables. For instance, we can add a few more lines to enhance this table by adding colorization based on these values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_reviewed_hosts <- \n  top_reviewed_hosts |> \n  rename(\n    `Host ID` = host_id,\n    `Host Name` = host_name,\n    `# Reviews` = n,\n    `Rating` = review_scores_rating\n  ) \n\ntop_reviewed_hosts|> \n  gt() |> \n  tab_style(\n    style = list(\n      cell_text(weight = \"bold\"),\n      cell_fill(color = \"#F0F0F0\")  # Optional: light gray background\n    ),\n    locations = cells_column_labels(everything()))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vpjjajnqfl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vpjjajnqfl table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vpjjajnqfl thead, #vpjjajnqfl tbody, #vpjjajnqfl tfoot, #vpjjajnqfl tr, #vpjjajnqfl td, #vpjjajnqfl th {\n  border-style: none;\n}\n\n#vpjjajnqfl p {\n  margin: 0;\n  padding: 0;\n}\n\n#vpjjajnqfl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vpjjajnqfl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vpjjajnqfl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vpjjajnqfl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vpjjajnqfl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vpjjajnqfl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vpjjajnqfl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vpjjajnqfl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vpjjajnqfl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vpjjajnqfl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vpjjajnqfl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vpjjajnqfl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vpjjajnqfl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vpjjajnqfl .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vpjjajnqfl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpjjajnqfl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vpjjajnqfl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vpjjajnqfl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vpjjajnqfl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpjjajnqfl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vpjjajnqfl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpjjajnqfl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vpjjajnqfl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpjjajnqfl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vpjjajnqfl .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vpjjajnqfl .gt_left {\n  text-align: left;\n}\n\n#vpjjajnqfl .gt_center {\n  text-align: center;\n}\n\n#vpjjajnqfl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vpjjajnqfl .gt_font_normal {\n  font-weight: normal;\n}\n\n#vpjjajnqfl .gt_font_bold {\n  font-weight: bold;\n}\n\n#vpjjajnqfl .gt_font_italic {\n  font-style: italic;\n}\n\n#vpjjajnqfl .gt_super {\n  font-size: 65%;\n}\n\n#vpjjajnqfl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vpjjajnqfl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vpjjajnqfl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vpjjajnqfl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vpjjajnqfl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vpjjajnqfl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vpjjajnqfl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vpjjajnqfl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vpjjajnqfl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"Host-ID\">Host ID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"Host-Name\">Host Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"Rating\">Rating</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"a#-Reviews\"># Reviews</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">24129606</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Leo &amp; Alex</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.84</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">14</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">526970195</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Jevaux</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.89</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">14</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">245386525</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Hanna</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">5.00</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">10</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">74207440</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Daniel</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.75</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">8</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">245386525</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Hanna</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.92</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">8</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">3069675</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Gabrielle</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.98</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">17160709</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Cindy</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.91</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">37420568</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Zoë</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.90</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">211206098</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Ramon</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.91</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">349642200</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Lourdes</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\">4.97</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\">7</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_reviewed_hosts|> \n  gt() |> \n  tab_style(\n    style = list(\n      cell_text(weight = \"bold\"),\n      cell_fill(color = \"#F0F0F0\")  # Optional: light gray background\n    ),\n    locations = cells_column_labels(everything())) |> \n  tab_style(\n    style = list(\n      cell_text(weight = \"bold\"),\n      cell_fill(color = \"#F0F0F0\")  # Optional: light gray background\n    ),\n    locations = cells_column_labels(everything())) |>\n  tab_header(\n    title = \"Top Reviewed Airbnb Hosts in the last 30 Days\",\n    subtitle = \"Logan Square, Chicago\") |>\n  data_color(\n    columns = Rating,\n    colors = scales::col_numeric(\n    palette = c(\"white\", \"red\"),\n    domain  = range(top_reviewed_hosts$Rating)\n    )) |> \n  data_color(\n    columns = `# Reviews`,\n    colors = scales::col_numeric(\n    palette = c(\"white\", \"red\"),\n    domain  = range(top_reviewed_hosts$`# Reviews`)\n    )\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"baoqcayqab\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#baoqcayqab table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#baoqcayqab thead, #baoqcayqab tbody, #baoqcayqab tfoot, #baoqcayqab tr, #baoqcayqab td, #baoqcayqab th {\n  border-style: none;\n}\n\n#baoqcayqab p {\n  margin: 0;\n  padding: 0;\n}\n\n#baoqcayqab .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#baoqcayqab .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#baoqcayqab .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#baoqcayqab .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#baoqcayqab .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#baoqcayqab .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#baoqcayqab .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#baoqcayqab .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#baoqcayqab .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#baoqcayqab .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#baoqcayqab .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#baoqcayqab .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#baoqcayqab .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#baoqcayqab .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#baoqcayqab .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#baoqcayqab .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#baoqcayqab .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#baoqcayqab .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#baoqcayqab .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#baoqcayqab .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#baoqcayqab .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#baoqcayqab .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#baoqcayqab .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#baoqcayqab .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#baoqcayqab .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#baoqcayqab .gt_left {\n  text-align: left;\n}\n\n#baoqcayqab .gt_center {\n  text-align: center;\n}\n\n#baoqcayqab .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#baoqcayqab .gt_font_normal {\n  font-weight: normal;\n}\n\n#baoqcayqab .gt_font_bold {\n  font-weight: bold;\n}\n\n#baoqcayqab .gt_font_italic {\n  font-style: italic;\n}\n\n#baoqcayqab .gt_super {\n  font-size: 65%;\n}\n\n#baoqcayqab .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#baoqcayqab .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#baoqcayqab .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#baoqcayqab .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#baoqcayqab .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#baoqcayqab .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#baoqcayqab .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#baoqcayqab .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#baoqcayqab div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal\" style>Top Reviewed Airbnb Hosts in the last 30 Days</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Logan Square, Chicago</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"Host-ID\">Host ID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"Host-Name\">Host Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"Rating\">Rating</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; background-color: #F0F0F0;\" scope=\"col\" id=\"a#-Reviews\"># Reviews</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">24129606</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Leo &amp; Alex</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FFBAA3; color: #000000;\">4.84</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FF0000; color: #FFFFFF;\">14</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">526970195</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Jevaux</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF9273; color: #000000;\">4.89</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FF0000; color: #FFFFFF;\">14</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">245386525</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Hanna</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF0000; color: #FFFFFF;\">5.00</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFAC93; color: #000000;\">10</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">74207440</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Daniel</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">4.75</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFE4DA; color: #000000;\">8</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">245386525</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Hanna</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF7857; color: #FFFFFF;\">4.92</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFE4DA; color: #000000;\">8</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">3069675</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Gabrielle</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF361C; color: #FFFFFF;\">4.98</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">17160709</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Cindy</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF8160; color: #000000;\">4.91</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">37420568</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Zoë</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF8969; color: #000000;\">4.90</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">211206098</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Ramon</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF8160; color: #000000;\">4.91</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">7</td></tr>\n    <tr><td headers=\"Host ID\" class=\"gt_row gt_right\">349642200</td>\n<td headers=\"Host Name\" class=\"gt_row gt_left\">Lourdes</td>\n<td headers=\"Rating\" class=\"gt_row gt_right\" style=\"background-color: #FF4427; color: #FFFFFF;\">4.97</td>\n<td headers=\"# Reviews\" class=\"gt_row gt_right\" style=\"background-color: #FFFFFF; color: #000000;\">7</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n# Combine Datasets\n\nWhen we explore the dataset, we are likely working a few variable combinations nad might have created some smaller dataset for convenience, then maybe we we want to bring different pieces together, for example, to look at the price of properties by the year they were listed.\n\nIf the smaller datasets you’re combining have the **same number of rows** and you haven't changed the row order or removed any entries (like with our `df_price` and `df_age`), simply combining them works.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- bind_cols(df_price, df_age)\n```\n:::\n\n\nBut a more robust and flexible way to keep an identifiable variable (such as `id` ) in both datasets, so that we can combine them by using `left_join()`. This function merges two datasets by a shared key column and keeps **all rows from the left dataset**, adding matching rows from the right. If there are entries in the left dataset with no match in the right, those values will be filled with `NA`, signaling no match was found.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- left_join(df_price, df_age, by = \"id\")\n```\n:::\n\n\n# Lab Report\n\nBuilding on what we’ve learned in our data wrangling and visualization, your task this week is to explore the Airbnb dataset in a city that interests you.\n\nAt the beginning of your Quarto document, you have listed **three questions** you’re curious about. Start by selecting one city from [Inside Airbnb](https://insideairbnb.com/get-the-data/). Using your questions as the guide, clean the data and create smaller, focused datasets in whatever way makes the most sense for your analysis. Then, create visualizations to help answer each of your three questions.\n\nChoose visualization types that you feel are most effective for communicating your insights. You're welcome to use and refine `ggplot()` for your plots. However, to apply what we practiced today, your visualizations should include at least one interactive `plotly` graph and one table created by `gt`.\n\nIn your write-up, reflect on what your answers to these questions tell you about the Airbnb market in your chosen city. What patterns do you notice? What surprises you?\n\nPlease complete your Quarto document and upload your rendered HTML file to Canvas by the end of day, Tuesday, Sep 23.\n",
    "supporting": [
      "lab3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../site_libs/plotly-binding-4.11.0/plotly.js\"></script>\n<script src=\"../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}